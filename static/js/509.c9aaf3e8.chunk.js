"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[509],{5509:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var r=t(4554),o=t(6151),a=t(1889),i=t(9176),u=t(890),s=t(2791),c=t(7689),d=t(1614),l=t(184),f=function(e){var n=e.children,t=(0,c.s0)();(0,s.useEffect)((function(){var e=function(e){"Escape"===e.code&&t("/contacts")};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return(0,l.jsx)(d.Z,{maxWidth:"false",component:"div",onClick:function(e){e.target===e.currentTarget&&t("/contacts")},sx:{position:"fixed",top:0,left:0,width:"100%",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",bgcolor:"rgba(0, 0, 0, 0.5)",zIndex:1200},children:n})},h=t(1413),m=t(9439),p=t(7445),g=t(4430),x=t(4922),v=t(2138),b=function(){var e=function(){var e=(0,c.UO)().contactId,n=(0,c.s0)(),t=(0,g.wY)().data,r=t.filter((function(n){return n.id===e})).reduce((function(e,n){return n}),{}),o=(0,g.i)(),a=(0,m.Z)(o,2),i=a[0],u=a[1],d=u.isError,l=u.isSuccess,f=(0,s.useState)(r.name),b=(0,m.Z)(f,2),C=b[0],w=b[1],Z=(0,s.useState)(r.number),k=(0,m.Z)(Z,2),E=k[0],j=k[1],y=(0,s.useState)(!1),P=(0,m.Z)(y,2),S=P[0],O=P[1],L=(0,s.useState)(!1),N=(0,m.Z)(L,2),U=N[0],W=N[1];return(0,s.useEffect)((function(){l&&((0,p.s)("Contact is updated"),n("/contacts"))}),[l,n]),(0,s.useEffect)((function(){d&&(0,p.x)("Oops! Something went wrong")}),[d]),{name:C,phone:E,nameError:S,phoneError:U,handleChangeName:function(e){return w(e.currentTarget.value)},handleChangePhone:function(e){return j(e.currentTarget.value)},handleEditContact:function(e){if(e.preventDefault(),r.name!==C||r.number!==E){if(t.map((function(e){return e.name})).some((function(e){return e.toLowerCase()===C.toLowerCase()}))&&r.name!==C)return O(!0),(0,p.x)("".concat(C," is already in contacts"));if(O(!1),(0,v.U)(E))return W(!0);var o={name:(0,x.Q)(C),number:E};i({id:r.id,payload:(0,h.Z)({},o)})}else n("/contacts")}}}(),n=e.name,t=e.phone,d=e.nameError,b=e.phoneError,C=e.handleChangeName,w=e.handleChangePhone,Z=e.handleEditContact;return(0,l.jsx)(f,{children:(0,l.jsxs)(r.Z,{width:{xs:"75%",sm:"50%",md:"35%",lg:"25%",xl:"20%"},padding:{xs:3,sm:4},sx:{bgcolor:"#fff",borderRadius:4,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",boxShadow:"0px 0px 42px -20px rgba(0,0,0,0.3)"},children:[(0,l.jsx)(u.Z,{component:"h2",variant:"h6",sx:{textAlign:"center",marginBottom:2},children:"Edit contact"}),(0,l.jsxs)(r.Z,{component:"form",noValidate:!0,onSubmit:Z,sx:{},children:[(0,l.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,l.jsx)(a.ZP,{item:!0,xs:12,children:(0,l.jsx)(i.Z,{required:!0,type:"text",fullWidth:!0,id:"name",label:"Name",name:"name",error:d,onChange:C,value:n,variant:"standard"})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,children:(0,l.jsx)(i.Z,{required:!0,type:"tel",fullWidth:!0,id:"number",label:"Number",name:"number",error:b,onChange:w,value:t,variant:"standard",onKeyPress:function(e){return!/[0-9]/.test(e.key)&&e.preventDefault()}})})]}),(0,l.jsx)(o.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,backgroundColor:"purple"},children:"Edit contact"})]})]})})}},4922:function(e,n,t){t.d(n,{Q:function(){return r}});var r=function(e){return""===e?"":e.trim().split(/\s+/).map((function(e){return e[0].toUpperCase()+e.substring(1)})).join(" ")}},2138:function(e,n,t){t.d(n,{U:function(){return o}});var r=t(7445),o=function(e){return(e.length<7||""===e)&&((0,r.x)("Phone must have 7 character min"),!0)}},7445:function(e,n,t){t.d(n,{s:function(){return a},x:function(){return o}});var r=t(5206),o=function(e){return r.Am.error(e,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},a=function(e){return r.Am.success(e,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})}}}]);
//# sourceMappingURL=509.c9aaf3e8.chunk.js.map